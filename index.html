<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’©è¨˜éŒ²ã‚¢ãƒ—ãƒª</title>
    <script src=https://code.jquery.com/jquery-3.6.0.min.js></script>

    <style>
        body {
            text-align: center;
        }

        #image {
            border-radius: 50% 20% / 10% 40%;
        }


        form {
            display: inline-block;
            text-align: left;
            width: 150px;
        }

        .entry {
            display: inline-block;
            border: 1px solid #ccc;
            padding: 5px;
            margin: 5px;
            width: 200px;

        }
    </style>


</head>

<body>
    <header>
        <h2>ã‚ã‚“ã“ã®ğŸ’©è¨˜éŒ²ã‚¢ãƒ—ãƒªğŸ’©</h2>
        <img id="image" src="./js/ginga.jpeg" alt="" width="125" height="125">

    </header>

    <main>
        <div>
            <form>
                <label for="date">æ—¥ä»˜</label>:<input id="date" name="date" type="date"><br>
                <label for="time">æ™‚é–“</label>:<input type="time" name="time" id="time"><br>
                <select name="poo">
                    <option value="poo_1">ğŸ’©ï¼ˆ1å›ï¼‰</option>
                    <option value="poo_2">ğŸ’©ğŸ’©ï¼ˆ2å›ï¼‰</option>
                    <option value="poo_3">ğŸ’©ğŸ’©ğŸ’©â€¦ï¼ˆ3å›ä»¥ä¸Šï¼ï¼‰</option>
                    <option value="poo_0">ã—ã¦ãªã„</option>
                </select><br>
                <textarea id="text" placeholder="ãƒ¡ãƒ¢"></textarea><br>
                <input type="button" id="save" value="ç™»éŒ²">

            </form>
        </div>

        <div id="list">
            <!-- ã“ã“ã«è¿½åŠ ãƒ‡ãƒ¼ã‚¿ãŒæŒ¿å…¥ã•ã‚Œã‚‹ -->
        </div>


    </main>

    <footer>
        Satoko
    </footer>

    <!-- ä»¥ä¸‹ã«jsã‚’æ›¸ã„ã¦ã„ãã¾ã™ -->
    <script>

        //1.Save ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
        $("#save").on("click", function () {

            const date = $("#date").val();
            const time = $("#time").val();
            const poo = $("select[name='poo']").val();
            const text = $("#text").val();

            const data = `${date}_${time}`; // æ—¥ä»˜ã¨æ™‚é–“ã‚’çµ„ã¿åˆã‚ã›ã¦ãƒ‡ãƒ¼ã‚¿ã‚­ãƒ¼ã‚’ä½œæˆ

            const entry = {
                date: date,
                time: time,
                poo: poo,
                text: text

            };

            const entryString = JSON.stringify(entry); // ã‚¨ãƒ³ãƒˆãƒªãƒ¼æƒ…å ±ã‚’æ–‡å­—åˆ—ã«å¤‰æ›

            const html = `

        <div class="entry">
        <p>date: ${date} </p> 
        <p>time :${time} </p> 
        <p>poo :${poo} </p> 
        <p>text :${text} </p>                
        </div>

      `;
            $("#list").append(html);



            //2.ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ãƒ‡ãƒ¼ã‚¿ä¿å­˜
            localStorage.setItem(data, entryString);
        });


        //3.ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿ï¼šä¿å­˜ãƒ‡ãƒ¼ã‚¿å–å¾—è¡¨ç¤º


        for (const key in localStorage) {
            if (localStorage.hasOwnProperty(key)) {
                const entryString = localStorage.getItem(key);
                const entry = JSON.parse(entryString);

                const html = `
            <div class="entry">
                <p>date: ${entry.date} </p>
                <p>time: ${entry.time} </p>
                <p>poo: ${entry.poo} </p>
                <p>text: ${entry.text} </p>
            </div>
        `;

                $("#list").append(html);

            }
        }


    </script>

</body>

</html>